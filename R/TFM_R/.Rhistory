multas <- read.csv('MultasMAD.csv', sep = ',', header = T, row.names = 'X', nrows = 50)
setwd("C:/Users/Diego/OneDrive/Documents/MaestrÃ­a/Clases/TFM/GitHub/TFM_EAE/Datos/Consolidado")
multas <- read.csv('MultasMAD.csv', sep = ',', header = T, row.names = 'X', nrows = 50)
#Arreglar la CALIFICACION PARA QUE SOLO SEAN 3 CATEGORIAS: LEVE, GRAVE Y MUY GRAVE
levels(multas$CALIFICACION)
levels(multas$CALIFICACION)[levels(multas$CALIFICACION)=="GRAVE     "] <- "GRAVE"
levels(multas$CALIFICACION)[levels(multas$CALIFICACION)=="LEVE      "] <- "LEVE"
levels(multas$CALIFICACION)[levels(multas$CALIFICACION)=="MUY GRAVE "] <- "MUY GRAVE"
#Cambiar el orden de los factores
multas$CALIFICACION <- ordered(multas$CALIFICACION, levels = c("LEVE", "GRAVE", "MUY GRAVE"))
multas$CALIFICACION = as.character(multas$CALIFICACION)
class(multas$CALIFICACION)
summary(multas)
#Cambio a character a LUGAR
class(multas$LUGAR)
multas$LUGAR = as.character(multas$LUGAR)
#Cambiar los nombres de meses a numeros
class(multas$MES)
levels(multas$MES)
levels(multas$MES)[levels(multas$MES)=="DICIEMBRE"] <- 12
levels(multas$MES)[levels(multas$MES)=="ENERO"] <- 1
levels(multas$MES)[levels(multas$MES)=="FEBRERO"] <- 2
levels(multas$MES)[levels(multas$MES)=="NOVIEMBRE"] <- 11
levels(multas$MES)[levels(multas$MES)=="OCTUBRE"] <- 10
levels(multas$MES)[levels(multas$MES)=="SEPTIEMBRE"] <- 9
multas <- read.csv('MultasMAD.csv', sep = ',', header = T, row.names = 'X', nrows = 500000)
#Arreglar la CALIFICACION PARA QUE SOLO SEAN 3 CATEGORIAS: LEVE, GRAVE Y MUY GRAVE
levels(multas$CALIFICACION)
levels(multas$CALIFICACION)[levels(multas$CALIFICACION)=="GRAVE     "] <- "GRAVE"
levels(multas$CALIFICACION)[levels(multas$CALIFICACION)=="LEVE      "] <- "LEVE"
levels(multas$CALIFICACION)[levels(multas$CALIFICACION)=="MUY GRAVE "] <- "MUY GRAVE"
#Cambiar el orden de los factores
multas$CALIFICACION <- ordered(multas$CALIFICACION, levels = c("LEVE", "GRAVE", "MUY GRAVE"))
multas$CALIFICACION = as.character(multas$CALIFICACION)
class(multas$CALIFICACION)
summary(multas)
#Cambio a character a LUGAR
class(multas$LUGAR)
multas$LUGAR = as.character(multas$LUGAR)
#Cambiar los nombres de meses a numeros
class(multas$MES)
multas <- read.csv('MultasMAD.csv', sep = ',', header = T, row.names = 'X')
#Arreglar la CALIFICACION PARA QUE SOLO SEAN 3 CATEGORIAS: LEVE, GRAVE Y MUY GRAVE
levels(multas$CALIFICACION)
levels(multas$CALIFICACION)[levels(multas$CALIFICACION)=="GRAVE     "] <- "GRAVE"
levels(multas$CALIFICACION)[levels(multas$CALIFICACION)=="LEVE      "] <- "LEVE"
levels(multas$CALIFICACION)[levels(multas$CALIFICACION)=="MUY GRAVE "] <- "MUY GRAVE"
#Cambiar el orden de los factores
multas$CALIFICACION <- ordered(multas$CALIFICACION, levels = c("LEVE", "GRAVE", "MUY GRAVE"))
multas$CALIFICACION = as.character(multas$CALIFICACION)
class(multas$CALIFICACION)
summary(multas)
multas$LUGAR = as.character(multas$LUGAR)
#Cambio a character a LUGAR
class(multas$LUGAR)
#Cambiar los nombres de meses a numeros
class(multas$MES)
levels(multas$MES)
levels(multas$MES)[levels(multas$MES)=="DICIEMBRE"] <- 12
levels(multas$MES)[levels(multas$MES)=="ENERO"] <- 1
levels(multas$MES)[levels(multas$MES)=="FEBRERO"] <- 2
levels(multas$MES)[levels(multas$MES)=="NOVIEMBRE"] <- 11
levels(multas$MES)[levels(multas$MES)=="OCTUBRE"] <- 10
levels(multas$MES)[levels(multas$MES)=="SEPTIEMBRE"] <- 9
multas$MES = as.integer(multas$MES)
#Columna con mes y anio
install.packages('zoo')
library(zoo)
multas$FECHA <- as.yearmon(paste(multas$ANIO, multas$MES, sep = "-"))
#Modificar la hora
multasprueb <- head(multas, 50)
multasprueb$HORA <- gsub('*.*', ':', multasprueb$HORA)
head(multasprueb)
#Modificar la hora
multasprueb <- head(multas, 50)
multasprueb$HORA = as.character(multasprueb$HORA)
multasprueb$HORA <- gsub('*.*', ':', multasprueb$HORA)
head(multasprueb)
?gsub
#Modificar la hora
multasprueb <- head(multas, 50)
multasprueb$HORA = as.character(multasprueb$HORA)
multasprueb$HORA <- chartr(".", ":", multasprueb$HORA)
head(multasprueb)
install.packages('chron')
library(chron)
multasprueb$HORAS <- chron(times=multasprueb$HORA)
head(multasprueb)
summary(multasprueb)
multasprueb$HORAS <- as.POSIXct(multasprueb$HORA,format="%H:%M:%S")
summary(multasprueb)
head(multasprueb)
multasprueb$HORAS <- as.POSIXct(multasprueb$HORA,format="%H:%M")
head(multasprueb)
#Modificar la hora
multasprueb <- head(multas, 50)
head(multasprueb)
multasprueb$HORA <- chartr(".*", ":", multasprueb$HORA)
head(multasprueb)
multasprueb$HORA <- chartr(".*", ":", multasprueb$HORA)
#Modificar la hora
multasprueb <- head(multas, 50)
multasprueb$HORA = as.character(multasprueb$HORA)
multasprueb$HORA <- chartr(".*", ":", multasprueb$HORA)
head(multasprueb)
#Modificar la hora
multasprueb <- head(multas, 50)
multasprueb$HORA = as.character(multasprueb$HORA)
multasprueb$HORA <- chartr(".", ":*", multasprueb$HORA)
head(multasprueb)
#Modificar la hora
multasprueb <- head(multas, 50)
multasprueb$HORA = as.character(multasprueb$HORA)
multasprueb$HORA <- chartr(".", ":%", multasprueb$HORA)
head(multasprueb)
#Modificar la hora
multasprueb <- head(multas, 50)
multasprueb$HORA = as.character(multasprueb$HORA)
head(multasprueb)
#Modificar la hora
multasprueb <- head(multas, 50)
head(multasprueb)
multasprueb$HORA <- chartr(".", ":", multasprueb$HORA)
head(multasprueb)
#Modificar la hora
multasprueb <- head(multas, 50)
multasprueb$HORAS <- as.POSIXct(multasprueb$HORA,format="%H:%M")
multasprueb$HORAS <- as.POSIXct(multasprueb$HORA,format="%H.%M")
#Modificar la hora
multasprueb <- head(multas, 50)
head(multasprueb)
multasprueb$HORAS <- as.POSIXct(multasprueb$HORA,format="%H.%M")
multasprueb$HORA = as.float(multasprueb$HORA)
multasprueb$HORA = as.numeric(multasprueb$HORA)
head(multasprueb)
multasprueb$HORA <- chartr(".", ":", multasprueb$HORA)
head(multasprueb)
#Modificar la hora
multasprueb <- head(multas, 50)
?chartr
#Modificar la hora
multasprueb <- head(multas, 50)
multasprueb$HORA = as.character(multasprueb$HORA)
head(multasprueb)
#Modificar la hora
multasprueb <- head(multas, 50)
multasprueb$HORA = as.character.numeric_version(multasprueb$HORA)
head(multasprueb)
multasprueb$HORA <- chartr(".", ":", multasprueb$HORA)
head(multasprueb)
multasprueb$HORAS <- as.POSIXct(multasprueb$HORA,format="%H.%M")
head(multasprueb)
multasprueb$HORAS <- as.POSIXct(multasprueb$HORA,format="%H:%M")
head(multasprueb)
